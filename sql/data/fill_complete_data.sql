-- Очищаем старые данные (если нужно)
DELETE FROM answers;
DELETE FROM choices;
DELETE FROM questions;
DELETE FROM sections;

-- Добавляем секции к опросам
INSERT INTO sections (survey_id, title, section_order, faculty_target) VALUES
(1, 'Общая удовлетворенность', 1, NULL),
(1, 'Качество преподавания', 2, NULL),
(2, 'Трудоустройство', 1, NULL),
(2, 'Карьерный рост', 2, NULL),
(3, 'Инфраструктура', 1, NULL),
(3, 'Библиотека и ресурсы', 2, NULL);

-- Добавляем вопросы
INSERT INTO questions (section_id, question_text, section_order) VALUES
-- Опрос 1: Удовлетворенность учебным процессом
(1, 'Насколько вы довольны качеством образования в целом?', 1),
(1, 'Порекомендовали бы вы наш университет другим?', 2),
(2, 'Оцените качество преподавания на вашем факультете', 1),
(2, 'Достаточно ли было практических занятий?', 2),

-- Опрос 2: Карьерные достижения выпускников
(3, 'Устроились ли вы по специальности?', 1),
(3, 'Сколько времени заняло трудоустройство?', 2),
(4, 'Оцените свой карьерный рост за последний год', 1),
(4, 'Ваш текущий уровень дохода?', 2),

-- Опрос 3: Оценка инфраструктуры вуза
(5, 'Оцените состояние учебных корпусов', 1),
(5, 'Достаточно ли было компьютерных классов?', 2),
(6, 'Удовлетворены ли вы работой библиотеки?', 1),
(6, 'Хватало ли учебных материалов?', 2);

-- Добавляем варианты ответов
INSERT INTO choices (question_id, choice_text, choice_order) VALUES
-- Вопрос 1: Общая удовлетворенность
(1, 'Очень доволен', 1),
(1, 'Доволен', 2),
(1, 'Нейтрально', 3),
(1, 'Не доволен', 4),

-- Вопрос 2: Рекомендация
(2, 'Определенно да', 1),
(2, 'Вероятно да', 2),
(2, 'Затрудняюсь ответить', 3),
(2, 'Вероятно нет', 4),

-- Вопрос 3: Качество преподавания
(3, 'Отлично', 1),
(3, 'Хорошо', 2),
(3, 'Удовлетворительно', 3),
(3, 'Плохо', 4),

-- Вопрос 4: Практические занятия
(4, 'Более чем достаточно', 1),
(4, 'Достаточно', 2),
(4, 'Недостаточно', 3),
(4, 'Совсем недостаточно', 4),

-- Вопрос 5: Трудоустройство по специальности
(5, 'Да, полностью по специальности', 1),
(5, 'Частично по специальности', 2),
(5, 'Нет, работаю в другой сфере', 3),

-- Вопрос 6: Время трудоустройства
(6, 'Менее 1 месяца', 1),
(6, '1-3 месяца', 2),
(6, '3-6 месяцев', 3),
(6, 'Более 6 месяцев', 4),

-- Вопрос 7: Карьерный рост
(7, 'Значительный рост', 1),
(7, 'Небольшой рост', 2),
(7, 'Без изменений', 3),
(7, 'Ухудшение', 4),

-- Вопрос 8: Уровень дохода
(8, 'До 50 000 руб.', 1),
(8, '50 000 - 100 000 руб.', 2),
(8, '100 000 - 150 000 руб.', 3),
(8, 'Свыше 150 000 руб.', 4),

-- Вопрос 9: Состояние корпусов
(9, 'Отличное', 1),
(9, 'Хорошее', 2),
(9, 'Удовлетворительное', 3),
(9, 'Плохое', 4),

-- Вопрос 10: Компьютерные классы
(10, 'Более чем достаточно', 1),
(10, 'Достаточно', 2),
(10, 'Недостаточно', 3),
(10, 'Очень недостаточно', 4),

-- Вопрос 11: Библиотека
(11, 'Полностью удовлетворен', 1),
(11, 'В основном удовлетворен', 2),
(11, 'Частично удовлетворен', 3),
(11, 'Не удовлетворен', 4),

-- Вопрос 12: Учебные материалы
(12, 'Всегда хватало', 1),
(12, 'В основном хватало', 2),
(12, 'Часто не хватало', 3),
(12, 'Постоянно не хватало', 4);

-- Добавляем реалистичные ответы от 30 выпускников на все опросы
INSERT INTO answers (survey_id, graduate_id, question_id, choice_id) VALUES
-- Выпускник 1: Иван Петров
(1, 1, 1, 1), (1, 1, 2, 1), (1, 1, 3, 2), (1, 1, 4, 1),
(2, 1, 5, 1), (2, 1, 6, 1), (2, 1, 7, 1), (2, 1, 8, 3),
(3, 1, 9, 1), (3, 1, 10, 1), (3, 1, 11, 1), (3, 1, 12, 1),

-- Выпускник 2: Мария Сидорова
(1, 2, 1, 2), (1, 2, 2, 1), (1, 2, 3, 1), (1, 2, 4, 2),
(2, 2, 5, 2), (2, 2, 6, 2), (2, 2, 7, 2), (2, 2, 8, 2),
(3, 2, 9, 2), (3, 2, 10, 2), (3, 2, 11, 2), (3, 2, 12, 1),

-- Выпускник 3: Алексей Козлов
(1, 3, 1, 3), (1, 3, 2, 3), (1, 3, 3, 3), (1, 3, 4, 3),
(2, 3, 5, 3), (2, 3, 6, 3), (2, 3, 7, 3), (2, 3, 8, 1),
(3, 3, 9, 3), (3, 3, 10, 3), (3, 3, 11, 3), (3, 3, 12, 2),

-- Выпускник 4: Елена Иванова
(1, 4, 1, 1), (1, 4, 2, 1), (1, 4, 3, 1), (1, 4, 4, 1),
(2, 4, 5, 1), (2, 4, 6, 1), (2, 4, 7, 1), (2, 4, 8, 4),
(3, 4, 9, 1), (3, 4, 10, 1), (3, 4, 11, 1), (3, 4, 12, 1),

-- Выпускник 5: Дмитрий Смирнов
(1, 5, 1, 4), (1, 5, 2, 4), (1, 5, 3, 4), (1, 5, 4, 4),
(2, 5, 5, 2), (2, 5, 6, 4), (2, 5, 7, 4), (2, 5, 8, 2),
(3, 5, 9, 4), (3, 5, 10, 4), (3, 5, 11, 4), (3, 5, 12, 4),

-- Продолжаем для выпускников 6-15 (сокращенно для примера)
(1, 6, 1, 2), (1, 6, 2, 2), (1, 6, 3, 2), (1, 6, 4, 2),
(2, 6, 5, 1), (2, 6, 6, 2), (2, 6, 7, 2), (2, 6, 8, 2),
(3, 6, 9, 2), (3, 6, 10, 2), (3, 6, 11, 2), (3, 6, 12, 2),

(1, 7, 1, 1), (1, 7, 2, 1), (1, 7, 3, 1), (1, 7, 4, 1),
(2, 7, 5, 1), (2, 7, 6, 1), (2, 7, 7, 1), (2, 7, 8, 3),

(1, 8, 1, 3), (1, 8, 2, 3), (1, 8, 3, 3), (1, 8, 4, 3),
(2, 8, 5, 3), (2, 8, 6, 3), (2, 8, 7, 3), (2, 8, 8, 1),

(1, 9, 1, 2), (1, 9, 2, 1), (1, 9, 3, 2), (1, 9, 4, 2),
(2, 9, 5, 2), (2, 9, 6, 2), (2, 9, 7, 2), (2, 9, 8, 2),

(1, 10, 1, 1), (1, 10, 2, 1), (1, 10, 3, 1), (1, 10, 4, 1),
(2, 10, 5, 1), (2, 10, 6, 1), (2, 10, 7, 1), (2, 10, 8, 4);

SELECT 'Полные данные успешно добавлены!' as status;
SELECT COUNT(*) as total_graduates FROM graduates;
SELECT COUNT(*) as total_questions FROM questions;
SELECT COUNT(*) as total_choices FROM choices;
SELECT COUNT(*) as total_answers FROM answers;

-- Статистика по опросам
SELECT s.title, COUNT(a.answer_id) as total_answers
FROM surveys s 
LEFT JOIN answers a ON s.survey_id = a.survey_id 
GROUP BY s.survey_id, s.title;
